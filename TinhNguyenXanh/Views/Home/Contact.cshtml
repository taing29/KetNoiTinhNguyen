@using TinhNguyenXanh.Models.ViewModel
@model ContactViewModel
@{
    ViewData["Title"] = "Liên Hệ";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>
    :root {
        --primary-color: #16a34a;
        --primary-hover: #15803d;
        --accent-light: #f0fdf4;
        --text-dark: #0f172a;
        --text-muted: #64748b;
        --border-color: #e5e7eb;
        --bg-light: #ffffff;
    }

    .contact-section {
        background: #ffffff;
        min-height: 100vh;
        padding: 5rem 0;
    }

    /* Header Section */
    .contact-header {
        text-align: center;
        margin-bottom: 4rem;
        animation: fadeInDown 0.6s ease-out;
    }

        .contact-header h2 {
            color: var(--text-dark);
            font-size: 2.5rem;
            font-weight: 800;
            letter-spacing: -0.02em;
            margin-bottom: 1rem;
            position: relative;
            display: inline-block;
        }

            .contact-header h2::after {
                content: '';
                position: absolute;
                bottom: -10px;
                left: 50%;
                transform: translateX(-50%);
                width: 80px;
                height: 4px;
                background: linear-gradient(90deg, var(--primary-color), var(--primary-hover));
                border-radius: 2px;
            }

        .contact-header p {
            color: var(--text-muted);
            font-size: 1.15rem;
            max-width: 600px;
            margin: 2rem auto 0;
            line-height: 1.7;
        }

    /* Contact Form Card */
    .contact-form-card {
        background: white;
        border: 1px solid var(--border-color);
        border-radius: 20px;
        padding: 3rem;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
        animation: fadeInLeft 0.8s ease-out;
        transition: all 0.3s ease;
    }

        .contact-form-card:hover {
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.12);
        }

        .contact-form-card h4 {
            color: var(--text-dark);
            font-size: 1.75rem;
            font-weight: 700;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--primary-color);
        }

    .form-group {
        margin-bottom: 1.5rem;
    }

        .form-group label {
            color: var(--text-dark);
            font-weight: 600;
            margin-bottom: 0.5rem;
            display: block;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 0.875rem 1rem;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: white;
        }

            .form-group input:focus,
            .form-group textarea:focus,
            .form-group select:focus {
                outline: none;
                border-color: var(--primary-color);
                box-shadow: 0 0 0 3px rgba(22, 163, 74, 0.1);
            }

        .form-group textarea {
            resize: vertical;
            min-height: 150px;
        }

    .btn-submit {
        background: var(--primary-color);
        color: white;
        border: none;
        padding: 0.875rem 2rem;
        border-radius: 8px;
        font-weight: 600;
        font-size: 1rem;
        transition: all 0.3s ease;
        cursor: pointer;
        width: 100%;
    }

        .btn-submit:hover {
            background: var(--primary-hover);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(22, 163, 74, 0.3);
        }

    /* Contact Info Card */
    .contact-info-card {
        background: linear-gradient(135deg, #ffffff 0%, var(--accent-light) 100%);
        border: 1px solid var(--border-color);
        border-radius: 20px;
        padding: 3rem;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
        animation: fadeInRight 0.8s ease-out;
        height: 100%;
    }

        .contact-info-card h4 {
            color: var(--text-dark);
            font-size: 1.75rem;
            font-weight: 700;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--primary-color);
        }

    .info-item {
        display: flex;
        align-items: start;
        gap: 1rem;
        padding: 1.25rem;
        background: white;
        border: 1px solid var(--border-color);
        border-radius: 12px;
        margin-bottom: 1.25rem;
        transition: all 0.3s ease;
    }

        .info-item:hover {
            background: var(--accent-light);
            border-color: var(--primary-color);
            transform: translateX(5px);
        }

    .info-icon {
        width: 48px;
        height: 48px;
        background: var(--primary-color);
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
    }

        .info-icon i {
            color: white;
            font-size: 1.5rem;
        }

    .info-content h6 {
        color: var(--text-dark);
        font-weight: 700;
        margin-bottom: 0.25rem;
        font-size: 1rem;
    }

    .info-content p {
        color: var(--text-muted);
        margin: 0;
        font-size: 0.95rem;
    }

    .info-content a {
        color: var(--primary-color);
        text-decoration: none;
    }

        .info-content a:hover {
            text-decoration: underline;
        }

    /* Map Card */
    .map-card {
        background: white;
        border: 1px solid var(--border-color);
        border-radius: 20px;
        padding: 2rem;
        margin-top: 3rem;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
        animation: fadeInUp 0.8s ease-out;
    }

        .map-card h4 {
            color: var(--text-dark);
            font-size: 1.75rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--primary-color);
        }

    .map-container {
        border-radius: 16px;
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        height: 400px;
        border: 2px solid var(--border-color);
    }

        .map-container iframe {
            border: 0;
            width: 100%;
            height: 100%;
        }

    /* Social Links */
    .social-links {
        display: flex;
        gap: 1rem;
        margin-top: 2rem;
    }

    .social-link {
        width: 48px;
        height: 48px;
        background: white;
        border: 2px solid var(--border-color);
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--primary-color);
        font-size: 1.25rem;
        transition: all 0.3s ease;
        text-decoration: none;
    }

        .social-link:hover {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
            transform: translateY(-4px);
            box-shadow: 0 4px 12px rgba(22, 163, 74, 0.3);
        }

    /* Animations */
    @@keyframes fadeInDown {
        from

    {
        opacity: 0;
        transform: translateY(-30px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }

    }

    @@keyframes fadeInLeft {
        from

    {
        opacity: 0;
        transform: translateX(-30px);
    }

    to {
        opacity: 1;
        transform: translateX(0);
    }

    }

    @@keyframes fadeInRight {
        from

    {
        opacity: 0;
        transform: translateX(30px);
    }

    to {
        opacity: 1;
        transform: translateX(0);
    }

    }

    @@keyframes fadeInUp {
        from

    {
        opacity: 0;
        transform: translateY(30px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }

    }

    /* Responsive */
    @@media (max-width: 991px) {
        .contact-header h2

    {
        font-size: 2rem;
    }

    .contact-form-card,
    .contact-info-card {
        padding: 2rem;
        margin-bottom: 2rem;
    }

    .map-container {
        height: 300px;
    }

    }

    @@media (max-width: 576px) {
        .contact-section

    {
        padding: 3rem 0;
    }

    .contact-header {
        margin-bottom: 3rem;
    }

        .contact-header h2 {
            font-size: 1.75rem;
        }

        .contact-header p {
            font-size: 1rem;
        }

    .contact-form-card,
    .contact-info-card,
    .map-card {
        padding: 1.5rem;
    }

    }
</style>

<section class="contact-section">
    <div class="container">
        <!-- Header -->
        <div class="contact-header">
            <h2>LIÊN HỆ VỚI CHÚNG TÔI</h2>
            <p>
                Chúng tôi luôn sẵn sàng lắng nghe và hỗ trợ bạn. Hãy để lại thông tin hoặc liên hệ trực tiếp với chúng tôi.
            </p>
        </div>

        <div class="row">
            <!-- Contact Form -->
            <div class="col-lg-7 mb-4">
                <div class="contact-form-card">
                    <h4>
                        <i class="bi bi-envelope-fill me-2"></i>Gửi Tin Nhắn
                    </h4>
                    <form asp-action="Contact" method="post" id="contactForm">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="FullName">Họ và Tên <span class="text-danger">*</span></label>
                                    <input type="text" class="form-control" id="FullName" name="FullName" value="@Model.FullName" required placeholder="Nguyễn Văn A">
                                    <span asp-validation-for="FullName" class="text-danger"></span>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="Email">Email <span class="text-danger">*</span></label>
                                    <input type="email" class="form-control" id="Email" name="Email" value="@Model.Email" required placeholder="email@example.com">
                                    <span asp-validation-for="Email" class="text-danger"></span>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="Phone">Số Điện Thoại <span class="text-danger">*</span></label>
                                    <input type="tel" class="form-control" id="Phone" name="Phone" value="@Model.Phone" required placeholder="0123 456 789">
                                    <span asp-validation-for="Phone" class="text-danger"></span>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="Subject">Chủ Đề <span class="text-danger">*</span></label>
                                    <select class="form-control" id="Subject" name="Subject" required asp-for="Subject">
                                        <option value="" disabled selected>--- Chọn chủ đề liên hệ ---</option>
                                        <option value="Đăng ký tình nguyện">Đăng ký tình nguyện</option>
                                        <option value="Đăng ký tổ chức">Đăng ký tổ chức</option>
                                        <option value="Hỗ trợ kỹ thuật">Hỗ trợ kỹ thuật</option>
                                        <option value="Góp ý - Phản hồi">Góp ý - Phản hồi</option>
                                        <option value="Khác">Khác (sẽ ghi chi tiết ở phần nội dung)</option>
                                    </select>
                                    <span asp-validation-for="Subject" class="text-danger"></span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="Message">Nội Dung <span class="text-danger">*</span></label>
                            <textarea class="form-control" id="Message" name="Message" rows="6" required placeholder="Nhập nội dung tin nhắn của bạn..." minlength="10">@Model.Message</textarea>
                            <span asp-validation-for="Message" class="text-danger"></span>
                        </div>
                        <button type="submit" class="btn-submit">
                            <i class="bi bi-send-fill me-2"></i>Gửi Tin Nhắn
                        </button>
                    </form>
                </div>
            </div>

            <!-- Contact Info -->
            <div class="col-lg-5 mb-4">
                <div class="contact-info-card">
                    <h4>
                        <i class="bi bi-info-circle-fill me-2"></i>Thông Tin Liên Hệ
                    </h4>

                    <div class="info-item">
                        <div class="info-icon">
                            <i class="bi bi-geo-alt-fill"></i>
                        </div>
                        <div class="info-content">
                            <h6>Địa chỉ</h6>
                            <p>475A Điện Biên Phủ, Phường 25<br>Quận Bình Thạnh, TP.HCM</p>
                        </div>
                    </div>

                    <div class="info-item">
                        <div class="info-icon">
                            <i class="bi bi-telephone-fill"></i>
                        </div>
                        <div class="info-content">
                            <h6>Điện thoại</h6>
                            <p>
                                Hotline: <a href="tel:0123456789">0123 456 789</a><br>
                                Văn phòng: <a href="tel:02812345678">(028) 1234 5678</a>
                            </p>
                        </div>
                    </div>

                    <div class="info-item">
                        <div class="info-icon">
                            <i class="bi bi-envelope-fill"></i>
                        </div>
                        <div class="info-content">
                            <h6>Email</h6>
                            <p>
                                Hỗ trợ: <a href="mailto:support@tinhnguyenxanh.vn">support@tinhnguyenxanh.vn</a><br>
                                Tổng đài: <a href="mailto:info@tinhnguyenxanh.vn">info@tinhnguyenxanh.vn</a>
                            </p>
                        </div>
                    </div>

                    <div class="info-item">
                        <div class="info-icon">
                            <i class="bi bi-clock-fill"></i>
                        </div>
                        <div class="info-content">
                            <h6>Giờ làm việc</h6>
                            <p>
                                Thứ 2 - Thứ 6: 8:00 - 17:00<br>
                                Thứ 7: 8:00 - 12:00
                            </p>
                        </div>
                    </div>

                    <div class="social-links">
                        <a href="#" class="social-link" title="Facebook">
                            <i class="bi bi-facebook"></i>
                        </a>
                        <a href="#" class="social-link" title="Instagram">
                            <i class="bi bi-instagram"></i>
                        </a>
                        <a href="#" class="social-link" title="YouTube">
                            <i class="bi bi-youtube"></i>
                        </a>
                        <a href="#" class="social-link" title="Zalo">
                            <i class="bi bi-chat-dots-fill"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Map -->
        <div class="map-card">
            <h4>
                <i class="bi bi-map-fill me-2"></i>Bản Đồ
            </h4>
            <div class="map-container">
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3919.3392246359235!2d106.70609297574058!3d10.786553689362059!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31752f3d7f7b25b7%3A0x1d017dd69b64f6ef!2zNDc1QSDEkGnhu4duIELDrG4gUGjhu6UsIFBoxrDhu51uZyAyLCBCw6xuaCBUaOG6oW5oLCBUUC5IQ00!5e0!3m2!1svi!2s!4v1709012345678!5m2!1svi!2s"
                        allowfullscreen="" loading="lazy"></iframe>
            </div>
        </div>
    </div>
</section>

@section Scripts {
    @{
        // Chỉ hiển thị thông báo khi có TempData (sau khi gửi thành công)
        var successMessage = TempData["Success"]?.ToString();
        var errorMessage = TempData["Error"]?.ToString();
    }

    @if (!string.IsNullOrEmpty(successMessage))
    {
        <script>
            Swal.fire({
                icon: 'success',
                title: 'Gửi thành công!',
                html: '@Html.Raw(successMessage)',
                confirmButtonColor: '#16a34a',
                timer: 5000,
                timerProgressBar: true
            });
        </script>
    }

    @if (!string.IsNullOrEmpty(errorMessage))
    {
        <script>
            Swal.fire({
                icon: 'error',
                title: 'Lỗi!',
                text: '@errorMessage',
                confirmButtonColor: '#dc3545'
            });
        </script>
    }

    <!-- Tự động làm mờ form khi đang gửi (tùy chọn) -->
    <script>
        const form = document.getElementById('contactForm');
        form.addEventListener('submit', function () {
            const btn = this.querySelector('.btn-submit');
            btn.disabled = true;
            btn.innerHTML = '<i class="bi bi-hourglass-split me-2"></i>Đang gửi...';
        });
    </script>
}