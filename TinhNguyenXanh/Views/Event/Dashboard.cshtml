@model TinhNguyenXanh.DTOs.VolunteerDashboardDTO
@{
    ViewData["Title"] = "Bảng điều khiển Tình nguyện viên";
}

<style>
    :root {
        --primary-color: #16a34a;
        --primary-hover: #15803d;
        --accent-light: #f0fdf4;
        --text-dark: #0f172a;
        --text-muted: #64748b;
        --border-color: #e5e7eb;
        --bg-light: #ffffff;
    }

    body {
        background: var(--bg-light);
        font-family: "Segoe UI", sans-serif;
    }

    .dashboard-container {
        background: #ffffff;
        min-height: 100vh;
        padding: 3rem 0;
    }

    /* Header */
    .dashboard-header {
        background: white;
        border: 1px solid var(--border-color);
        border-radius: 16px;
        padding: 2rem;
        margin-bottom: 2rem;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
        position: relative;
        overflow: hidden;
    }

        .dashboard-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color), #10b981);
        }

        .dashboard-header h1 {
            color: var(--text-dark);
            font-size: 1.75rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .dashboard-header .text-emphasis {
            color: var(--primary-color);
        }

        .dashboard-header p {
            color: var(--text-muted);
            font-size: 1rem;
            margin-bottom: 0;
        }

    /* Section Title */
    .section-title {
        color: var(--text-dark);
        font-size: 1.25rem;
        font-weight: 700;
        margin-bottom: 1.5rem;
        padding-bottom: 0.75rem;
        border-bottom: 2px solid var(--border-color);
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

        .section-title i {
            color: var(--primary-color);
            font-size: 1.4rem;
        }

    /* Stat Cards */
    .stat-card {
        background: white;
        border: 1px solid var(--border-color);
        border-radius: 16px;
        padding: 1.75rem;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        height: 100%;
        position: relative;
        overflow: hidden;
    }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: var(--primary-color);
            transform: scaleY(0);
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.1);
            border-color: var(--primary-color);
        }

            .stat-card:hover::before {
                transform: scaleY(1);
            }

    .stat-content {
        display: flex;
        align-items: center;
        gap: 1.25rem;
    }

    .stat-icon {
        width: 64px;
        height: 64px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.75rem;
        flex-shrink: 0;
    }

    .stat-info {
        flex: 1;
    }

    .stat-number {
        font-size: 2rem;
        font-weight: 700;
        line-height: 1;
        color: var(--text-dark);
        margin-bottom: 0.25rem;
    }

    .stat-label {
        font-size: 0.95rem;
        font-weight: 600;
        color: var(--text-dark);
        margin-bottom: 0.25rem;
    }

    .stat-help {
        font-size: 0.8rem;
        color: var(--text-muted);
        line-height: 1.4;
    }

    /* Color Variants */
    .bg-blue-100 {
        background: #dbeafe;
    }

    .text-blue-600 {
        color: #2563eb;
    }

    .text-primary {
        color: #2563eb !important;
    }

    .bg-green-100 {
        background: #dcfce7;
    }

    .text-green-600 {
        color: var(--primary-color);
    }

    .text-success {
        color: var(--primary-color) !important;
    }

    .bg-amber-100 {
        background: #fef3c7;
    }

    .text-amber-600 {
        color: #d97706;
    }

    .text-warning {
        color: #d97706 !important;
    }

    .bg-cyan-100 {
        background: #cffafe;
    }

    .text-cyan-600 {
        color: #0891b2;
    }

    .text-info {
        color: #0891b2 !important;
    }

    /* Action Card */
    .action-card {
        background: white;
        border: 1px solid var(--border-color);
        border-radius: 16px;
        padding: 2rem;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
        height: 100%;
        transition: all 0.3s ease;
    }

        .action-card:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }

    .action-card-title {
        color: var(--text-dark);
        font-size: 1.1rem;
        font-weight: 700;
        margin-bottom: 1rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

        .action-card-title i {
            color: var(--primary-color);
            font-size: 1.3rem;
        }

    .action-btn {
        background: var(--primary-color);
        color: white;
        padding: 0.875rem 1.5rem;
        font-weight: 600;
        font-size: 0.95rem;
        border-radius: 10px;
        transition: all 0.3s ease;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        text-decoration: none;
        border: none;
        width: 100%;
    }

        .action-btn:hover {
            background: var(--primary-hover);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(22, 163, 74, 0.3);
        }

        .action-btn i {
            font-size: 1.1rem;
        }

    .action-btn-secondary {
        background: white;
        border: 2px solid var(--primary-color);
        color: var(--primary-color);
    }

        .action-btn-secondary:hover {
            background: var(--primary-color);
            color: white;
        }

    /* Suggestion Card */
    .suggestion-card {
        background: var(--accent-light);
        border: 1px solid #bbf7d0;
        border-radius: 16px;
        padding: 2rem;
    }

        .suggestion-card h5 {
            color: var(--text-dark);
            font-weight: 700;
            font-size: 1.1rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

            .suggestion-card h5 i {
                color: var(--primary-color);
                font-size: 1.3rem;
            }

        .suggestion-card p {
            color: var(--text-muted);
            font-size: 0.9rem;
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        .suggestion-card ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

            .suggestion-card ul li {
                color: var(--text-muted);
                font-size: 0.9rem;
                line-height: 1.6;
                padding-left: 1.5rem;
                position: relative;
                margin-bottom: 0.75rem;
            }

                .suggestion-card ul li:last-child {
                    margin-bottom: 0;
                }

                .suggestion-card ul li::before {
                    content: '✓';
                    color: var(--primary-color);
                    font-weight: 700;
                    font-size: 1rem;
                    position: absolute;
                    left: 0;
                    top: 0;
                }

    /* Recent Activity Card */
    .activity-card {
        background: white;
        border: 1px solid var(--border-color);
        border-radius: 16px;
        padding: 2rem;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
    }

    .activity-item {
        display: flex;
        align-items: flex-start;
        gap: 1rem;
        padding: 1rem;
        border-radius: 10px;
        margin-bottom: 0.75rem;
        transition: all 0.3s ease;
    }

        .activity-item:last-child {
            margin-bottom: 0;
        }

        .activity-item:hover {
            background: var(--accent-light);
        }

    .activity-icon {
        width: 40px;
        height: 40px;
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        font-size: 1.1rem;
    }

    .activity-content {
        flex: 1;
    }

        .activity-content h6 {
            color: var(--text-dark);
            font-size: 0.95rem;
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .activity-content p {
            color: var(--text-muted);
            font-size: 0.85rem;
            margin: 0;
        }

    /* Empty State */
    .empty-state {
        text-align: center;
        padding: 2rem 1rem;
        color: var(--text-muted);
    }

        .empty-state i {
            font-size: 3rem;
            color: var(--text-muted);
            margin-bottom: 1rem;
            opacity: 0.5;
        }

        .empty-state p {
            font-size: 0.95rem;
            margin: 0;
        }

    /* Section Spacing */
    .stats-section {
        margin-bottom: 2.5rem;
    }

    .content-section {
        margin-bottom: 2rem;
    }

    /* Responsive */
    @@media (max-width: 991px) {
        .dashboard-container {
            padding: 2rem 0;
        }

        .dashboard-header {
            padding: 1.5rem;
        }

            .dashboard-header h1 {
                font-size: 1.5rem;
            }
    }

    @@media (max-width: 768px) {
        .dashboard-header {
            text-align: center;
        }

            .dashboard-header h1 {
                font-size: 1.35rem;
            }

            .dashboard-header p {
                font-size: 0.9rem;
            }

        .stat-card {
            padding: 1.5rem;
            margin-bottom: 1rem;
        }

        .stat-content {
            flex-direction: column;
            text-align: center;
        }

        .stat-number {
            font-size: 1.75rem;
        }

        .action-card {
            padding: 1.5rem;
            margin-bottom: 1rem;
        }

        .section-title {
            font-size: 1.1rem;
        }
    }
</style>

<div class="dashboard-container">
    <div class="container">
        <!-- Header -->
        <div class="dashboard-header">
            <h1>Chào mừng, <span class="text-emphasis">@User.Identity?.Name!</span></h1>
            <p>Hành trình tình nguyện của bạn đang góp phần tạo nên những thay đổi tích cực</p>
        </div>

        <!-- Thống kê nhanh -->
        <div class="stats-section">
            <h5 class="section-title">
                <i class="bi bi-bar-chart-fill"></i>
                Thống kê tổng quan
            </h5>
            <div class="row g-3">
                <!-- Đã đăng ký -->
                <div class="col-md-6 col-lg-3">
                    <div class="stat-card">
                        <div class="stat-content">
                            <div class="stat-icon bg-blue-100 text-blue-600">
                                <i class="bi bi-calendar-plus"></i>
                            </div>
                            <div class="stat-info">
                                <div class="stat-number text-primary">@Model.TotalEvents</div>
                                <div class="stat-label">Đã đăng ký</div>
                                <div class="stat-help">Đang chờ xác nhận</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Hoàn thành -->
                <div class="col-md-6 col-lg-3">
                    <div class="stat-card">
                        <div class="stat-content">
                            <div class="stat-icon bg-green-100 text-green-600">
                                <i class="bi bi-check-circle-fill"></i>
                            </div>
                            <div class="stat-info">
                                <div class="stat-number text-success">@Model.CompletedEvents</div>
                                <div class="stat-label">Hoàn thành</div>
                                <div class="stat-help">Đã có chứng nhận</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Chờ duyệt -->
                <div class="col-md-6 col-lg-3">
                    <div class="stat-card">
                        <div class="stat-content">
                            <div class="stat-icon bg-amber-100 text-amber-600">
                                <i class="bi bi-hourglass-split"></i>
                            </div>
                            <div class="stat-info">
                                <div class="stat-number text-warning">@Model.PendingEvents</div>
                                <div class="stat-label">Chờ phản hồi</div>
                                <div class="stat-help">Đang xem xét</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Giờ tình nguyện -->
                <div class="col-md-6 col-lg-3">
                    <div class="stat-card">
                        <div class="stat-content">
                            <div class="stat-icon bg-cyan-100 text-cyan-600">
                                <i class="bi bi-clock-history"></i>
                            </div>
                            <div class="stat-info">
                                <div class="stat-number text-info">@Model.TotalHours</div>
                                <div class="stat-label">Giờ tình nguyện</div>
                                <div class="stat-help">Tổng đóng góp</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row g-3 g-lg-4">
            <!-- Cột trái: Actions -->
            <div class="col-lg-8">
                <!-- Hành động nhanh -->
                <div class="content-section">
                    <h5 class="section-title">
                        <i class="bi bi-lightning-fill"></i>
                        Hành động nhanh
                    </h5>
                    <div class="row g-3">
                        <div class="col-sm-6">
                            <div class="action-card">
                                <h6 class="action-card-title">
                                    <i class="bi bi-search"></i>
                                    Khám phá
                                </h6>
                                <p class="text-muted mb-3" style="font-size: 0.9rem;">Tìm kiếm các hoạt động tình nguyện phù hợp với bạn</p>
                                <a asp-action="Index" asp-controller="Event" class="action-btn">
                                    <i class="bi bi-arrow-right-circle"></i>
                                    <span>Tìm sự kiện mới</span>
                                </a>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="action-card">
                                <h6 class="action-card-title">
                                    <i class="bi bi-list-check"></i>
                                    Đăng ký của tôi
                                </h6>
                                <p class="text-muted mb-3" style="font-size: 0.9rem;">Theo dõi trạng thái các sự kiện đã đăng ký</p>
                                <a asp-action="MyRegistrations" class="action-btn action-btn-secondary">
                                    <i class="bi bi-arrow-right-circle"></i>
                                    <span>Xem đăng ký</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Hoạt động gần đây -->
                <div class="content-section">
                    <h5 class="section-title">
                        <i class="bi bi-clock-history"></i>
                        Hoạt động gần đây
                    </h5>
                    <div class="activity-card">
                        @if (Model.CompletedEvents > 0 || Model.PendingEvents > 0)
                        {
                            <div class="activity-item">
                                <div class="activity-icon bg-green-100 text-green-600">
                                    <i class="bi bi-check-circle"></i>
                                </div>
                                <div class="activity-content">
                                    <h6>Đăng ký mới được chấp nhận</h6>
                                    <p>Tổ chức đã xác nhận đăng ký của bạn</p>
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon bg-blue-100 text-blue-600">
                                    <i class="bi bi-calendar-event"></i>
                                </div>
                                <div class="activity-content">
                                    <h6>Sự kiện sắp diễn ra</h6>
                                    <p>Bạn có hoạt động trong tuần này</p>
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon bg-cyan-100 text-cyan-600">
                                    <i class="bi bi-award"></i>
                                </div>
                                <div class="activity-content">
                                    <h6>Chứng nhận mới</h6>
                                    <p>Bạn đã nhận được chứng nhận hoàn thành</p>
                                </div>
                            </div>
                        }
                        else
                        {
                            <div class="empty-state">
                                <i class="bi bi-inbox"></i>
                                <p>Chưa có hoạt động nào. Hãy bắt đầu bằng cách đăng ký sự kiện!</p>
                            </div>
                        }
                    </div>
                </div>
            </div>

            <!-- Cột phải: Suggestions -->
            <div class="col-lg-4">
                <h5 class="section-title">
                    <i class="bi bi-lightbulb"></i>
                    Gợi ý cho bạn
                </h5>
                <div class="suggestion-card">
                    <h5>
                        <i class="bi bi-stars"></i>
                        Mẹo hữu ích
                    </h5>
                    <p>Dựa trên kỹ năng và lịch sử tham gia của bạn:</p>
                    <ul>
                        <li>Cập nhật hồ sơ để nhận gợi ý chính xác hơn</li>
                        <li>Sự kiện có yêu cầu "Dạy học" phù hợp với bạn</li>
                        <li>Chứng nhận PDF sẽ được cấp tự động sau khi hoàn thành</li>
                        <li>Tham gia đều đặn để tích lũy giờ tình nguyện</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
}